@use 'utils/colors' as *;

@mixin flip($name, $to-background, $to-text) {
  @keyframes #{$name} {
    0% {
      transform: scaleY(1);
    }

    50% {
      transform: scaleY(0);
    }

    100% {
      transform: scaleY(1);
      background-color: $to-background;
      border-color: $to-background;
      color: $to-text;
    }
  }
}

@include flip(flip-pass, $green, $white);
@include flip(flip-shuffle, $yellow, $black);
@include flip(flip-fail, $gray, $white);

.hopkins-hurdle {
  .guess {

    input {
      border: 4px $light_gray solid;
      caret-color: transparent;
      font-size: 20px;
      height: 30px;
      margin: 2px;
      text-align: center;
      outline: none;
      width: 30px;

      &:focus {
        border: 4px $black solid;
      }

      &.space {
        height: 30px;
        width: 5px;
        opacity: 0; // screen readers will be able to read this
      }

      &:not(.animate) {
        &.pass {
          background-color: $green;
          border-color: $green;
          color: $white;
        }

        &.fail {
          background-color: $gray;
          border-color: $gray;
          color: $white;
        }

        &.shuffle {
          background-color: $yellow;
          border-color: $yellow;
        }
      }

      &.animate {
        &.pass {
          animation: flip-pass 500ms ease forwards;
        }

        &.shuffle {
          animation: flip-shuffle 500ms ease forwards;
        }

        &.fail {
          animation: flip-fail 500ms ease forwards;
        }

      }
    }
  }
}
